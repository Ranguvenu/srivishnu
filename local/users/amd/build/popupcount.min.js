define ("local_users/popupcount",["local_courses/jquery.dataTables","jquery","core/str","core/modal_factory","core/modal_events","core/fragment","core/ajax","core/yui","jqueryui"],function(a,b,c,d,e,f){var g=function(a){this.contextid=a.contextid;this.id=a.id;this.username=a.username;this.moduletype=a.moduletype;var b=this;b.init(a.selector)};g.prototype.modal=null;g.prototype.contextid=-1;g.prototype.init=function(a){var f=this;b(a).click(function(){var a=b(this).data("value");if("undefined"!=typeof this.editid){a=0}f.categoryid=a;return c.get_string("usersinfo","local_users",f).then(function(a){return d.create({type:d.types.CANCEL,title:a,body:f.getBody()})}.bind(f)).then(function(a){f.modal=a;f.modal.show();f.modal.setLarge();f.modal.getRoot().on(e.hidden,function(){f.modal.setBody("")}.bind(this));f.modal.getRoot().on(e.shown,function(){f.modal.getRoot().append("<style>[data-fieldtype=submit] { display: none ! important; }</style>")}.bind(this));f.modal.getRoot().on(e.save,f.submitForm.bind(f));f.modal.getRoot().on("submit","form",f.submitFormAjax.bind(f));return this.modal}.bind(this))})};g.prototype.getBody=function(a){if("undefined"==typeof a){a={}}if("undefined"!=typeof this.id){var b={id:this.id,moduletype:this.moduletype,jsonformdata:JSON.stringify(a)}}else{var b={}}return f.loadFragment("local_users","users_display_modulewise",this.contextid,b)};return{init:function init(a){this.Datatable();return new g(a)},Datatable:function Datatable(){}}});
//# sourceMappingURL=popupcount.min.js.map
