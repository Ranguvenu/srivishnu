{"version":3,"sources":["../src/mooccourses.js"],"names":["define","dataTable","Str","ModalFactory","ModalEvents","Ajax","$","mooccourses","init","soldcoursesDatatable","args","console","log","language","emptyTable","search","searchPlaceholder","M","cfg","wwwroot","deleteConfirm","get_strings","key","component","param","then","s","create","title","type","types","SAVE_CANCEL","body","done","modal","setSaveButtonText","getRoot","on","save","e","preventDefault","confirm","params","courseid","contextid","promise","call","methodname","window","location","href","fail","ex","bind","show"],"mappings":"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","sourcesContent":["define([\n    'local_mooccourses/responsive.bootstrap',\n    'core/str',\n    'core/modal_factory',\n    'core/modal_events',\n    'core/ajax',\n    'jquery',\n    'jqueryui'\n], function(dataTable, Str, ModalFactory, ModalEvents, Ajax, $) {\n\n      var mooccourses;\n    return mooccourses = {\n        init: function(args) {\n            \n        },\n         soldcoursesDatatable: function(args){\n            // alert(came);\n            console.log(args);\n\n            $('#viewsoldcourses').dataTable({\n                \"searching\": true,\n                \"responsive\": true,\n                \"processing\": true,\n                \"aaSorting\": [],\n                \"pageLength\": 10,\n                \"lengthMenu\": [[5, 10, 25,50,100, -1], [5,10,25, 50,100, \"All\"]],\n                \"aoColumnDefs\": [{ 'bSortable': false, 'aTargets': [ 0 ] }],\n                language: {\n\t\t    emptyTable: \"No Mooc Courses available in table\",\n                    search: \"_INPUT_\",\n                    searchPlaceholder: \"Search\",\n                    \"paginate\": {\n                        \"next\": \">\",\n                        \"previous\": \"<\"\n                    }\n                } ,\n            \"sAjaxSource\": M.cfg.wwwroot + \"/local/mooccourses/manual_tempcourse_processing.php?param=\"+args,\n            });\n            \n           // console.log(args);\n           \n        },\n               deleteConfirm: function(args) {\n          //console.log(args);\n            return Str.get_strings([{\n                key: 'confirmation',\n                component: 'local_mooccourses'\n            },\n            {\n                key: 'deleteconfirm',\n                component: 'local_mooccourses',\n                param :args\n            },\n            {\n                key: 'deleteallconfirm',\n                component: 'local_mooccourses'\n            },\n            {\n                key: 'delete'\n            }]).then(function(s) {\n                ModalFactory.create({\n                    title: s[0],\n                    type: ModalFactory.types.SAVE_CANCEL,\n                    body: s[1]\n                }).done(function(modal) {\n                    this.modal = modal;\n                    modal.setSaveButtonText(s[3]);\n                    modal.getRoot().on(ModalEvents.save, function(e) {\n                        e.preventDefault();\n                        args.confirm = true;\n                        console.log(args);\n                        var params = {};\n                        params.courseid = args.courseid;\n                        params.contextid = args.contextid;\n                    \n                        var promise = Ajax.call([{\n                            methodname: 'local_mooccourse_delete_mooccourse',\n                            args: params\n                        }]);\n                        promise[0].done(function(resp) {\n                            window.location.href = window.location.href;\n                        }).fail(function(ex) {\n                            // do something with the exception\n                             console.log(ex);\n                        });\n                    }.bind(this));\n                    modal.show();\n                }.bind(this));\n            }.bind(this));\n        }\n    };\n});\n"],"file":"mooccourses.min.js"}