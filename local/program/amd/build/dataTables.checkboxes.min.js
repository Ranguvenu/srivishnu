function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}(function(a){if("function"==typeof define&&define.amd){define ("local_program/dataTables.checkboxes",["jquery","local_program/jquery.dataTables"],function(b){return a(b,window,document)})}else if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}return a(c,b,b.document)}}else{a(jQuery,window,document)}})(function(a,b,c){'use strict';var d=a.fn.dataTable,f=function(a){if(!d.versionCheck||!d.versionCheck("1.10.8")){throw"DataTables Checkboxes requires DataTables 1.10.8 or newer"}this.s={dt:new d.Api(a),columns:[],data:{},dataDisabled:{},ignoreSelect:!1};this.s.ctx=this.s.dt.settings()[0];if(this.s.ctx.checkboxes){return}a.checkboxes=this;this._constructor()};f.prototype={_constructor:function _constructor(){for(var b=this,e=b.s.dt,g=b.s.ctx,h=!1,j=!1,k=e.state.loaded(),l=0;l<g.aoColumns.length;l++){if(g.aoColumns[l].checkboxes){var m=a(e.column(l).header());h=!0;if(!a.isPlainObject(g.aoColumns[l].checkboxes)){g.aoColumns[l].checkboxes={}}g.aoColumns[l].checkboxes=a.extend({},f.defaults,g.aoColumns[l].checkboxes);var n={searchable:!1,orderable:!1};if(""===g.aoColumns[l].sClass){n.className="dt-checkboxes-cell"}else{n.className=g.aoColumns[l].sClass+" dt-checkboxes-cell"}if(null===g.aoColumns[l].sWidthOrig){n.width="1%"}if(null===g.aoColumns[l].mRender){n.render=function(){return"<input type=\"checkbox\" class=\"dt-checkboxes\">"}}d.ext.internal._fnColumnOptions(g,l,n);m.removeClass("sorting");m.off(".dt");if(null===g.sAjaxSource){var o=e.cells("tr",l);o.invalidate("data");a(o.nodes()).addClass(n.className)}b.s.data[l]={};b.s.dataDisabled[l]={};if(k&&k.checkboxes&&k.checkboxes.hasOwnProperty(l)){b.s.data[l]=k.checkboxes[l]}b.s.columns.push(l);if(g.aoColumns[l].checkboxes.selectRow){if(g._select){j=!0}else{g.aoColumns[l].checkboxes.selectRow=!1}}if(g.aoColumns[l].checkboxes.selectAll){m.data("html",m.html());if(null!==g.aoColumns[l].checkboxes.selectAllRender){var p="";if(a.isFunction(g.aoColumns[l].checkboxes.selectAllRender)){p=g.aoColumns[l].checkboxes.selectAllRender()}else if("string"==typeof g.aoColumns[l].checkboxes.selectAllRender){p=g.aoColumns[l].checkboxes.selectAllRender}m.html(p).addClass("dt-checkboxes-select-all").attr("data-col",l)}}}}if(h){var q=a(e.table().node()),r=a(e.table().body()),s=a(e.table().container());if(j){q.addClass("dt-checkboxes-select");q.on("user-select.dt.dtCheckboxes",function(a,c,d,e){var f=e.index(),g=f.row,h=b.getSelectRowColIndex(),i=c.cell({row:g,column:h}).data();if(!b.isCellSelectable(h,i)){a.preventDefault()}});q.on("select.dt.dtCheckboxes deselect.dt.dtCheckboxes",function(a,c,d,e){b.onSelect(a,d,e)});e.select.info(!1);q.on("draw.dt.dtCheckboxes select.dt.dtCheckboxes deselect.dt.dtCheckboxes",function(){b.showInfoSelected()})}q.on("draw.dt.dtCheckboxes",function(a){b.onDraw(a)});r.on("click.dtCheckboxes","input.dt-checkboxes",function(a){b.onClick(a,this)});s.on("click.dtCheckboxes","thead th.dt-checkboxes-select-all input[type=\"checkbox\"]",function(a){b.onClickSelectAll(a,this)});s.on("click.dtCheckboxes","thead th.dt-checkboxes-select-all",function(){a("input[type=\"checkbox\"]",this).not(":disabled").trigger("click")});if(!j){s.on("click.dtCheckboxes","tbody td.dt-checkboxes-cell",function(){a("input[type=\"checkbox\"]",this).not(":disabled").trigger("click")})}s.on("click.dtCheckboxes","thead th.dt-checkboxes-select-all label, tbody td.dt-checkboxes-cell label",function(a){a.preventDefault()});a(c).on("click.dtCheckboxes",".fixedHeader-floating thead th.dt-checkboxes-select-all input[type=\"checkbox\"]",function(a){if(g._fixedHeader){if(g._fixedHeader.dom.header.floating){b.onClickSelectAll(a,this)}}});a(c).on("click.dtCheckboxes",".fixedHeader-floating thead th.dt-checkboxes-select-all",function(){if(g._fixedHeader){if(g._fixedHeader.dom.header.floating){a("input[type=\"checkbox\"]",this).trigger("click")}}});q.on("init.dt.dtCheckboxes",function(){if(!g.oFeatures.bServerSide){if(g.oFeatures.bStateSave){b.updateState()}q.on("xhr.dt",function(){a.each(b.s.columns,function(a,c){b.s.data[c]={}});if(g.oFeatures.bStateSave){var c=e.state.loaded();a.each(b.s.columns,function(a,d){if(c&&c.checkboxes&&c.checkboxes.hasOwnProperty(d)){b.s.data[d]=c.checkboxes[d]}});q.one("draw.dt.dtCheckboxes",function(){b.updateState()})}})}if(g.oFeatures.bStateSave){q.on("stateSaveParams.dt.dtCheckboxes",function(a,c,d){d.checkboxes=b.s.data})}});q.one("destroy.dt.dtCheckboxes",function(){a(c).off("click.dtCheckboxes");s.on(".dtCheckboxes");r.off(".dtCheckboxes");q.off(".dtCheckboxes");b.s.data={};a(".dt-checkboxes-select-all",q).each(function(b,c){a(c).html(a(c).data("html")).removeClass("dt-checkboxes-select-all")})})}},updateData:function updateData(a,b,c){var d=this,e=d.s.dt,f=d.s.ctx;if(f.aoColumns[b].checkboxes){var g=a.data();g.each(function(a){if(c){f.checkboxes.s.data[b][a]=1}else{delete f.checkboxes.s.data[b][a]}});if(f.oFeatures.bStateSave){e.state.save()}}},updateSelect:function updateSelect(a,b){var c=this,d=c.s.dt,e=c.s.ctx;if(e._select){c.s.ignoreSelect=!0;if(b){d.rows(a).select()}else{d.rows(a).deselect()}c.s.ignoreSelect=!1}},updateCheckbox:function updateCheckbox(b,c,d){var e=this,f=e.s.dt,g=e.s.ctx,h=b.nodes();if(h.length){a("input.dt-checkboxes",h).not(":disabled").prop("checked",d);if(a.isFunction(g.aoColumns[c].checkboxes.selectCallback)){g.aoColumns[c].checkboxes.selectCallback(h,d)}}},updateState:function updateState(){var b=this,c=b.s.dt,d=b.s.ctx;b.updateStateCheckboxes({page:"all",search:"none"});a.each(b.s.columns,function(a,c){b.updateSelectAll(c)})},updateStateCheckboxes:function updateStateCheckboxes(b){var c=this,d=c.s.dt,e=c.s.ctx;d.cells("tr",c.s.columns,b).every(function(b,d){var f=this.data(),g=c.isCellSelectable(d,f);if(e.checkboxes.s.data[d].hasOwnProperty(f)){c.updateCheckbox(this,d,!0);if(e.aoColumns[d].checkboxes.selectRow&&g){c.updateSelect(b,!0)}}if(!g){a("input.dt-checkboxes",this.node()).prop("disabled",!0)}})},onClick:function onClick(b,c){var d=this,e=d.s.dt,f=d.s.ctx,g,h=a(c).closest("td");if(h.parents(".DTFC_Cloned").length){g=e.fixedColumns().cellIndex(h)}else{g=h}var i=e.cell(g),j=i.index(),k=j.column;if(!f.aoColumns[k].checkboxes.selectRow){i.checkboxes.select(c.checked);b.stopPropagation()}else{setTimeout(function(){var a=i.data(),b=d.s.data[k].hasOwnProperty(a);if(b!==c.checked){d.updateCheckbox(i,k,b);d.updateSelectAll(k)}},0)}},onSelect:function onSelect(a,b,c){var d=this,e=d.s.dt,f=d.s.ctx;if(d.s.ignoreSelect){return}if("row"===b){var g=d.getSelectRowColIndex();if(null!==g){var h=e.cells(c,g);d.updateData(h,g,"select"===a.type?!0:!1);d.updateCheckbox(h,g,"select"===a.type?!0:!1);d.updateSelectAll(g)}}},onClickSelectAll:function onClickSelectAll(b,c){var d=this,e=d.s.dt,f=d.s.ctx,g=null,h=a(c).closest("th");if(h.parents(".DTFC_Cloned").length){var i=e.fixedColumns().cellIndex(h);g=i.column}else{g=e.column(h).index()}e.column(g,{page:f.aoColumns[g].checkboxes&&f.aoColumns[g].checkboxes.selectAllPages?"all":"current",search:"applied"}).checkboxes.select(c.checked);b.stopPropagation()},onDraw:function onDraw(){var b=this,c=b.s.dt,d=b.s.ctx;if(d.oFeatures.bServerSide||d.oFeatures.bDeferRender){b.updateStateCheckboxes({page:"current",search:"none"})}a.each(b.s.columns,function(a,c){b.updateSelectAll(c)})},updateSelectAll:function updateSelectAll(b){var c=this,d=c.s.dt,e=c.s.ctx;if(e.aoColumns[b].checkboxes&&e.aoColumns[b].checkboxes.selectAll){var f=d.cells("tr",b,{page:e.aoColumns[b].checkboxes.selectAllPages?"all":"current",search:"applied"}),g=d.table().container(),h=a(".dt-checkboxes-select-all[data-col=\""+b+"\"] input[type=\"checkbox\"]",g),i=0,j=f.data();a.each(j,function(a,d){if(c.s.data[b].hasOwnProperty(d)){i++}});if(e._fixedHeader){if(e._fixedHeader.dom.header.floating){h=a(".fixedHeader-floating .dt-checkboxes-select-all[data-col=\""+b+"\"] input[type=\"checkbox\"]")}}var k,l;if(0===i){k=!1;l=!1}else if(i===j.length){k=!0;l=!1}else{k=!0;l=!0}h.prop({checked:k,indeterminate:l});if(a.isFunction(e.aoColumns[b].checkboxes.selectAllCallback)){e.aoColumns[b].checkboxes.selectAllCallback(h.closest("th").get(0),k,l)}}},showInfoSelected:function showInfoSelected(){var b=this,c=b.s.dt,d=b.s.ctx;if(!d.aanFeatures.i){return}var e=a("<span class=\"select-info\"/>"),f=function(b,d){e.append(a("<span class=\"select-item\"/>").append(c.i18n("select."+b+"s",{_:"%d "+b+"s selected",0:"",1:"1 "+b+" selected"},d)))},g=b.getSelectRowColIndex();if(null!==g){var h=0;for(var i in d.checkboxes.s.data[g]){if(d.checkboxes.s.data[g].hasOwnProperty(i)){h++}}f("row",h);a.each(d.aanFeatures.i,function(b,c){var d=a(c),f=d.children("span.select-info");if(f.length){f.remove()}if(""!==e.text()){d.append(e)}})}},isCellSelectable:function isCellSelectable(a,b){var c=this,d=c.s.dt,e=c.s.ctx;if(e.checkboxes.s.dataDisabled[a].hasOwnProperty(b)){return!1}else{return!0}},getCellIndex:function getCellIndex(a){var b=this,c=b.s.dt,d=b.s.ctx;if(d._oFixedColumns){return c.fixedColumns().cellIndex(a)}else{return c.cell(a).index()}},getSelectRowColIndex:function getSelectRowColIndex(){for(var a=this,b=a.s.dt,c=a.s.ctx,d=null,e=0;e<c.aoColumns.length;e++){if(c.aoColumns[e].checkboxes&&c.aoColumns[e].checkboxes.selectRow){d=e;break}}return d},updateFixedColumn:function updateFixedColumn(a){var b=this,c=b.s.dt,d=b.s.ctx;if(d._oFixedColumns){var e=d._oFixedColumns.s.iLeftColumns,f=d.aoColumns.length-d._oFixedColumns.s.iRightColumns-1;if(a<e||a>f){c.fixedColumns().update()}}}};f.defaults={selectRow:!1,selectAll:!0,selectAllPages:!0,selectCallback:null,selectAllCallback:null,selectAllRender:"<input type=\"checkbox\">"};var g=a.fn.dataTable.Api;g.register("checkboxes()",function(){return this});g.registerPlural("columns().checkboxes.select()","column().checkboxes.select()",function(b){if("undefined"==typeof b){b=!0}return this.iterator("column-rows",function(c,d,e,f,g){if(c.checkboxes){var h=[];a.each(g,function(a,b){h.push({row:b,column:d})});var i=this.cells(h),j=i.data(),k=[];h=[];a.each(j,function(a,b){if(c.checkboxes.isCellSelectable(d,b)){h.push({row:g[a],column:d});k.push(g[a])}});i=this.cells(h);c.checkboxes.updateData(i,d,b);c.checkboxes.updateCheckbox(i,d,b);if(c.aoColumns[d].checkboxes.selectRow){c.checkboxes.updateSelect(k,b)}if(c._oFixedColumns){setTimeout(function(){c.checkboxes.updateSelectAll(d)},0)}else{c.checkboxes.updateSelectAll(d)}c.checkboxes.updateFixedColumn(d)}},1)});g.registerPlural("cells().checkboxes.select()","cell().checkboxes.select()",function(a){if("undefined"==typeof a){a=!0}return this.iterator("cell",function(b,c,d){if(b.checkboxes){var e=this.cells([{row:c,column:d}]),f=this.cell({row:c,column:d}).data();if(b.checkboxes.isCellSelectable(d,f)){b.checkboxes.updateData(e,d,a);b.checkboxes.updateCheckbox(e,d,a);if(b.aoColumns[d].checkboxes.selectRow){b.checkboxes.updateSelect(c,a)}if(b._oFixedColumns){setTimeout(function(){b.checkboxes.updateSelectAll(d)},0)}else{b.checkboxes.updateSelectAll(d)}b.checkboxes.updateFixedColumn(d)}}},1)});g.registerPlural("cells().checkboxes.enable()","cell().checkboxes.enable()",function(b){if("undefined"==typeof b){b=!0}return this.iterator("cell",function(c,d,e){if(c.checkboxes){var f=this.cell({row:d,column:e}),g=f.data();if(b){delete c.checkboxes.s.dataDisabled[e][g]}else{c.checkboxes.s.dataDisabled[e][g]=1}var h=f.node();if(h){a("input.dt-checkboxes",h).prop("disabled",!b)}if(c.aoColumns[e].checkboxes.selectRow){if(c.checkboxes.s.data[e].hasOwnProperty(g)){c.checkboxes.updateSelect(d,b)}}}},1)});g.registerPlural("cells().checkboxes.disable()","cell().checkboxes.disable()",function(a){if("undefined"==typeof a){a=!0}return this.checkboxes.enable(!a)});g.registerPlural("columns().checkboxes.deselect()","column().checkboxes.deselect()",function(a){if("undefined"==typeof a){a=!0}return this.checkboxes.select(!a)});g.registerPlural("cells().checkboxes.deselect()","cell().checkboxes.deselect()",function(a){if("undefined"==typeof a){a=!0}return this.checkboxes.select(!a)});g.registerPlural("columns().checkboxes.deselectAll()","column().checkboxes.deselectAll()",function(){return this.iterator("column",function(a,b){if(a.aoColumns[b].checkboxes){a.checkboxes.s.data[b]={};this.column(b).checkboxes.select(!1)}},1)});g.registerPlural("columns().checkboxes.selected()","column().checkboxes.selected()",function(){return this.iterator("column",function(b,c){if(b.aoColumns[c].checkboxes){var d=[];a.each(b.checkboxes.s.data[c],function(a){if(b.checkboxes.isCellSelectable(c,a)){d.push(a)}});return d}else{return[]}},1)});f.version="1.2.9";a.fn.DataTable.Checkboxes=f;a.fn.dataTable.Checkboxes=f;a(c).on("preInit.dt.dtCheckboxes",function(a,b){if("dt"!==a.namespace){return}new f(b)});return f});
//# sourceMappingURL=dataTables.checkboxes.min.js.map
