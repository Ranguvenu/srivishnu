define ("local_courses/popup",["local_courses/jquery.dataTables","jquery","core/str","core/modal_factory","core/modal_events","core/fragment","core/ajax","core/yui","jqueryui"],function(a,b,c,d,e,f){var g=function(a,b,c,d){this.contextid=b;this.categoryid=c;this.categoryname=d;var e=this;e.init(a)};g.prototype.modal=null;g.prototype.contextid=-1;g.prototype.init=function(a){var f=this;b(a).click(function(){var a=b(this).data("value");if("undefined"!=typeof this.editid){a=0}f.categoryid=a;return c.get_string("categorypopup","local_courses").then(function(){return d.create({type:d.types.CANCEL,title:"Category : "+this.categoryname,body:f.getBody()})}.bind(f)).then(function(a){f.modal=a;f.modal.show();f.modal.setLarge();f.modal.getRoot().on(e.hidden,function(){f.modal.setBody("")}.bind(this));f.modal.getRoot().on(e.shown,function(){f.modal.getRoot().append("<style>[data-fieldtype=submit] { display: none ! important; }</style>")}.bind(this));f.modal.getRoot().on(e.save,f.submitForm.bind(f));f.modal.getRoot().on("submit","form",f.submitFormAjax.bind(f));return this.modal}.bind(this))})};g.prototype.getBody=function(a){if("undefined"==typeof a){a={}}if("undefined"!=typeof this.categoryid){var b={categoryid:this.categoryid,jsonformdata:JSON.stringify(a)}}else{var b={}}return f.loadFragment("local_courses","coursecategory_display",this.contextid,b)};return{init:function init(a){this.Datatable();return new g(a.selector,a.contextid,a.categoryid,a.categoryname)},Datatable:function Datatable(){}}});
//# sourceMappingURL=popup.min.js.map
