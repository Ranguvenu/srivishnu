{"version":3,"sources":["../src/program.js"],"names":["define","Str","ModalFactory","ModalEvents","Ajax","$","curriculum","init","args","AssignUsers","curriculumDatatable","console","log","params","action","curriculumstatus","dataTable","M","cfg","wwwroot","SessionDatatable","curriculumid","semesterid","bclcid","tab","sessionenrol","deleteConfirm","get_strings","key","component","param","curriculumname","then","s","confirm","types","CONFIRM","DEFAULT","create","title","type","body","done","modal","setSaveButtonText","getRoot","on","yes","e","preventDefault","promise","call","methodname","window","location","href","fail","ex","bind","show","click","data","prop","hasClass","val","trigger","curriculumStatus","actionstatusmsg","ManagecurriculumStatus","load","unassignCourses","programid","yearid","courseid","ProgramsDatatable","options","rows_selected","table","DataTable","row","rowId","inArray","find","addClass","$row","closest","index","checked","push","splice","removeClass","updateDataTableSelectAllCtrl","stopPropagation","parent","container","$table","node","$chkbox_all","$chkbox_checked","chkbox_select_all","get","length","indeterminate","FacultysDatatable","masterprogramchildpopup","ajax","url","id","sesskey","success","returndata","chlidprogramsDatatable","setLarge","animate","hidden","destroy","hide","stable","checkProgramStatus","pid","ccid","costcenter","finalstatus","SAVE_CANCEL","get_string","programname","response","setTimeout","document","reload","CANCEL","message"],"mappings":"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","sourcesContent":["/**\r\n * Add a create new group modal to the page.\r\n *\r\n * @module     core_group/AjaxForms\r\n * @class      AjaxForms\r\n * @package    core_group\r\n * @copyright  2017 Damyon Wiese <damyon@moodle.com>\r\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\r\n */\r\ndefine([\r\n    // 'local_curriculum/dataTables.checkboxes',\r\n    'core/str',\r\n    'core/modal_factory',\r\n    'core/modal_events',\r\n    'core/ajax',\r\n    'jquery',\r\n    'jqueryui'\r\n], function(Str, ModalFactory, ModalEvents, Ajax, $) {\r\n    var curriculum;\r\n    return curriculum = {\r\n        init: function(args) {\r\n            this.AssignUsers(args);\r\n        },\r\n        curriculumDatatable: function(args) {\r\n            console.log(args);\r\n            params = [];\r\n            params.action = 'viewcurriculums';\r\n            params.curriculumstatus = args.curriculumstatus;\r\n            var oTable = $('#viewcurriculums').dataTable({\r\n                'bInfo': false,\r\n                'processing': true,\r\n                'serverSide': true,\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\": params\r\n                },\r\n                \"bInfo\" : false,\r\n                \"bLengthChange\": false,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                        \"next\": \">\",\r\n                        \"previous\": \"<\"\r\n                    },\r\n                    'processing': '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>'\r\n                },\r\n                \"pageLength\": 6\r\n            });\r\n        },\r\n        SessionDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcurriculumsessions';\r\n            params.curriculumid = args.curriculumid;\r\n            params.semesterid = args.semesterid;\r\n            params.bclcid = args.bclcid;\r\n            if(args.action != ''){\r\n                params.tab = args.action;\r\n            } else {\r\n                params.tab = false;\r\n            }\r\n\r\n            var oTable = $('#viewcurriculumsessions').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\": params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 5,\r\n                \"bLengthChange\": false,\r\n                \"bInfo\" : false,\r\n            });\r\n            this.sessionenrol(args);\r\n        },\r\n      /*  sessionenrol: function(args) {\r\n            $(document).on('click', '.sessionenrol', function() {\r\n                var sessionargs = $(this).data();\r\n                return Str.get_strings([{\r\n                    key: 'confirmation',\r\n                    component: 'local_program'\r\n                },\r\n                {\r\n                    key: 'confirmschedulesession',\r\n                    component: 'local_program'\r\n                },\r\n                {\r\n                    key: 'confirmreschedulesession',\r\n                    component: 'local_program'\r\n                },\r\n                {\r\n                    key: 'confirmcancelsession',\r\n                    component: 'local_program'\r\n                },\r\n                {\r\n                    key: 'yes'\r\n                }\r\n                ]).then(function(s) {\r\n                    var body = s[1];*/\r\n                 //   if (sessionargs.enrol == 2) {\r\n                 /*   curriculumDatatable: function(args) {\r\n            console.log(args);\r\n            params = [];\r\n            params.action = 'viewcurriculums';\r\n            params.curriculumstatus = args.curriculumstatus;\r\n            var oTable = $('#viewcurriculums').dataTable({\r\n                'bInfo': false,\r\n                'processing': true,\r\n                'serverSide': true,\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\": params\r\n                },\r\n                \"bInfo\" : false,\r\n                \"bLengthChange\": false,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                        \"next\": \">\",\r\n                        \"previous\": \"<\"\r\n                    },\r\n                    'processing': '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>'\r\n                },\r\n                \"pageLength\": 6\r\n            });\r\n        }*/\r\n     //   },\r\n       /* SessionDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcurriculumsessions';\r\n            params.curriculumid = args.curriculumid;\r\n            params.semesterid = args.semesterid;\r\n            params.bclcid = args.bclcid;\r\n            if(args.action != ''){\r\n                params.tab = args.action;\r\n            } else {\r\n                params.tab = false;\r\n            }\r\n\r\n            var oTable = $('#viewcurriculumsessions').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\": params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 5,\r\n                \"bLengthChange\": false,\r\n                \"bInfo\" : false,\r\n            });\r\n            //this.sessionenrol(args);\r\n        },*/\r\n        /*sessionenrol: function(args) {\r\n            $(document).on('click', '.sessionenrol', function() {\r\n                var sessionargs = $(this).data();\r\n                return Str.get_strings([{\r\n                    key: 'confirmation',\r\n                    component: 'local_program'\r\n                },\r\n                {\r\n                    key: 'confirmschedulesession',\r\n                    component: 'local_program'\r\n                },\r\n                {\r\n                    key: 'confirmreschedulesession',\r\n                    component: 'local_program'\r\n                },\r\n                {\r\n                    key: 'confirmcancelsession',\r\n                    component: 'local_program'\r\n                },\r\n                {\r\n                    key: 'yes'\r\n                }\r\n                ]).then(function(s) {\r\n                    var body = s[1];\r\n                    if (sessionargs.enrol == 2) {\r\n                        body = s[2];\r\n                    } else if (sessionargs.enrol == 3) {\r\n                        body = s[3];\r\n                    }\r\n                    ModalFactory.create({\r\n                        title: s[0],\r\n                        type: ModalFactory.types.CONFIRM,\r\n                        body: body\r\n                    }).done(function(modal) {\r\n                        this.modal = modal;\r\n                        modal.setSaveButtonText(s[4]);\r\n                        modal.getRoot().on(ModalEvents.yes, function(e) {\r\n                            e.preventDefault();\r\n                            args.confirm = true;\r\n                            var promise = Ajax.call([{\r\n                                methodname: 'local_program_session_enrolments',\r\n                                args: sessionargs\r\n                            }]);\r\n                            promise[0].done(function(resp) {\r\n                                window.location.href = window.location.href;\r\n                            }).fail(function(ex) {\r\n                                // do something with the exception\r\n                                 console.log(ex);\r\n                            });\r\n                        }.bind(this));\r\n                        modal.show();\r\n                    }.bind(this));\r\n                }.bind(this));\r\n            });\r\n        },\r\n        CoursesDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcurriculumcourses';\r\n            params.curriculumid = $('#viewcurriculumcourses').data('curriculumid');\r\n            var oTable = $('#viewcurriculumcourses').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\":params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 10,\r\n            });\r\n        },\r\n        UsersDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcurriculumusers';\r\n            params.curriculumid = $('#viewcurriculumusers').data('curriculumid');\r\n            params.yearid = $('#viewcurriculumusers').data('yearid');\r\n            var oTable = $('#viewcurriculumusers').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                 CoursesDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcurriculumcourses';\r\n            params.curriculumid = $('#viewcurriculumcourses').data('curriculumid');\r\n            var oTable = $('#viewcurriculumcourses').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\":params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 10,\r\n            });\r\n        },\r\n        UsersDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcurriculumusers';\r\n            params.curriculumid = $('#viewcurriculumusers').data('curriculumid');\r\n            params.yearid = $('#viewcurriculumusers').data('yearid');\r\n            var oTable = $('#viewcurriculumusers').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\":params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 10,\r\n            });\r\n        },\r\n        viewinfoConfirm: function(args) {\r\n              //Var returned_data is ONLY available inside this fn!\r\n            ModalFactory.create({\r\n                title: args.title,\r\n                body: args.body,\r\n                footer:'<button type=\"button\" class=\"btn btn-secondary\" data-action=\"cancel\">Cancel</button>'\r\n              }).done(function(modal) {\r\n                // Do what you want with your new modal.\r\n                modal.show();\r\n                    modal.getRoot().on(ModalEvents.hidden, function() {\r\n                    // modal.getRoot().animate({\"right\":\"-85%\"}, 500);\r\n                            // setTimeout(function(){\r\n                            modal.destroy();\r\n                        // }, 1000);\r\n                    }.bind(this));\r\n                    $('[data-action=\"cancel\"]').on('click', function() {\r\n                        modal.hide();\r\n                        modal.destroy();\r\n\r\n                    });\r\n                 //return modal;\r\n              });\r\n        },     \"data\":params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 10,\r\n            });\r\n        },\r\n        viewinfoConfirm: function(args) {\r\n              //Var returned_data is ONLY available inside this fn!\r\n            ModalFactory.create({\r\n                title: args.title,\r\n                body: args.body,\r\n                footer:'<button type=\"button\" class=\"btn btn-secondary\" data-action=\"cancel\">Cancel</button>'\r\n              }).done(function(modal) {\r\n                // Do what you want with your new modal.\r\n                modal.show();\r\n                    modal.getRoot().on(ModalEvents.hidden, function() {\r\n                    // modal.getRoot().animate({\"right\":\"-85%\"}, 500);\r\n                            // setTimeout(function(){\r\n                            modal.destroy();\r\n                        // }, 1000);\r\n                    }.bind(this));\r\n                    $('[data-action=\"cancel\"]').on('click', function() {\r\n                        modal.hide();\r\n                        modal.destroy();\r\n\r\n                    });\r\n                 //return modal;\r\n              });\r\n        },    body = s[2];\r\n                    } else if (sessionargs.enrol == 3) {\r\n                        body = s[3];\r\n                    }\r\n                    ModalFactory.create({\r\n                        title: s[0],\r\n                        type: ModalFactory.types.CONFIRM,\r\n                        body: body\r\n                    }).done(function(modal) {\r\n                        this.modal = modal;\r\n                        modal.setSaveButtonText(s[4]);\r\n                        modal.getRoot().on(ModalEvents.yes, function(e) {\r\n                            e.preventDefault();\r\n                            args.confirm = true;\r\n                            var promise = Ajax.call([{\r\n                                methodname: 'local_program_session_enrolments',\r\n                                args: sessionargs\r\n                            }]);\r\n                            promise[0].done(function(resp) {\r\n                                window.location.href = window.location.href;\r\n                            }).fail(function(ex) {\r\n                                // do something with the exception\r\n                                 console.log(ex);\r\n                            });\r\n                        }.bind(this));\r\n                        modal.show();\r\n                    }.bind(this));\r\n                }.bind(this));\r\n            });\r\n        },*/\r\n      /*  CoursesDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcurriculumcourses';\r\n            params.curriculumid = $('#viewcurriculumcourses').data('curriculumid');\r\n            var oTable = $('#viewcurriculumcourses').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\":params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 10,\r\n            });\r\n        },\r\n        UsersDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcurriculumusers';\r\n            params.curriculumid = $('#viewcurriculumusers').data('curriculumid');\r\n            params.yearid = $('#viewcurriculumusers').data('yearid');\r\n            var oTable = $('#viewcurriculumusers').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\":params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 10,\r\n            });\r\n        },\r\n        viewinfoConfirm: function(args) {\r\n              //Var returned_data is ONLY available inside this fn!\r\n            ModalFactory.create({\r\n                title: args.title,\r\n                body: args.body,\r\n                footer:'<button type=\"button\" class=\"btn btn-secondary\" data-action=\"cancel\">Cancel</button>'\r\n              }).done(function(modal) {\r\n                // Do what you want with your new modal.\r\n                modal.show();\r\n                    modal.getRoot().on(ModalEvents.hidden, function() {\r\n                    // modal.getRoot().animate({\"right\":\"-85%\"}, 500);\r\n                            // setTimeout(function(){\r\n                            modal.destroy();\r\n                        // }, 1000);\r\n                    }.bind(this));\r\n                    $('[data-action=\"cancel\"]').on('click', function() {\r\n                        modal.hide();\r\n                        modal.destroy();\r\n\r\n                    });\r\n                 //return modal;\r\n              });\r\n        },*/\r\n        deleteConfirm: function(args) {\r\n            console.log(args);\r\n            return Str.get_strings([{\r\n                key: 'confirmation',\r\n                component: 'local_curriculum'\r\n            },\r\n            {\r\n                key: 'deleteconfirm',\r\n                component: 'local_curriculum',\r\n                param: args.curriculumname,\r\n            },\r\n            {\r\n                key: 'deleteallconfirm',\r\n                component: 'local_curriculum'\r\n            },\r\n            {\r\n                key: 'Delete'\r\n            },\r\n            {\r\n                key: 'deletecourseconfirm',\r\n                component: 'local_curriculum'\r\n            },\r\n            {\r\n                key: 'cannotdeleteall',\r\n                component: 'local_curriculum'\r\n            },\r\n            {\r\n                key: 'cannotdeletesession',\r\n                component: 'local_curriculum'\r\n            },\r\n            {\r\n                key: 'cannotdeletesemester',\r\n                component: 'local_curriculum'\r\n            },\r\n            {\r\n                key: 'cannotdeletesemesteryear',\r\n                component: 'local_curriculum'\r\n            },\r\n            {\r\n                key: 'confirmunassignfaculty',\r\n                component: 'local_curriculum'\r\n            }\r\n            ]).then(function(s) {\r\n                if (args.action == \"deletecurriculum\") {\r\n                    s[1] = s[1];\r\n                    var confirm = ModalFactory.types.CONFIRM;\r\n                 } else if (args.action == \"deletecurriculumcourse\") {\r\n                    s[1] = s[4];\r\n                    var confirm = ModalFactory.types.CONFIRM;\r\n                 } else if (args.action == \"cannotdeletecurriculum\") {\r\n                    s[1] = s[5];\r\n                    var confirm = ModalFactory.types.DEFAULT;\r\n                 } else if (args.action == \"cannotdeletesession\") {\r\n                    s[1] = s[6];\r\n                    var confirm = ModalFactory.types.DEFAULT;\r\n                 } else if (args.action == \"cannotdeletesemester\") {\r\n                    s[1] = s[7];\r\n                    var confirm = ModalFactory.types.DEFAULT;\r\n                 } else if (args.action == \"cannotdeletesemesteryear\") {\r\n                    s[1] = s[8];\r\n                    var confirm = ModalFactory.types.DEFAULT;\r\n                 } else if (args.action == \"unassignfaculty\") {\r\n                    s[1] = s[9];\r\n                    var confirm = ModalFactory.types.CONFIRM;\r\n                 } else {\r\n                    s[1] = s[2];\r\n                    var confirm = ModalFactory.types.CONFIRM;\r\n                 }\r\n                ModalFactory.create({\r\n                    title: s[0],\r\n                    type: confirm,\r\n                    body: s[1]\r\n                }).done(function(modal) {\r\n                    this.modal = modal;\r\n                    if(args.action != \"cannotdeletecurriculum\" && args.action != \"cannotdeletesession\" && args.action != \"cannotdeletesemester\" && args.action != \"cannotdeletesemesteryear\"){\r\n                        modal.setSaveButtonText(s[3]);\r\n                    }\r\n                    modal.getRoot().on(ModalEvents.yes, function(e) {\r\n                        e.preventDefault();\r\n                        args.confirm = true;\r\n                        var promise = Ajax.call([{\r\n                            methodname: 'local_curriculum_' + args.action,\r\n                            args: args\r\n                        }]);\r\n                        promise[0].done(function(resp) {\r\n                            if(args.action == \"deleteprogram\"){\r\n                                window.location.href = M.cfg.wwwroot + '/local/curriculum/index.php';\r\n                            } else {\r\n                                window.location.href = M.cfg.wwwroot + '/local/curriculum/view.php?ccid=' + args.curriculumid;\r\n                            }\r\n                        }).fail(function(ex) {\r\n                            // do something with the exception\r\n                             console.log(ex);\r\n                        });\r\n                    }.bind(this));\r\n                    modal.show();\r\n                }.bind(this));\r\n            }.bind(this));\r\n        },\r\n        AssignUsers: function(args) {\r\n            $('.usersselect').click(function() {\r\n                var type = $(this).data('id');\r\n\r\n                if (type === 'removeselect') {\r\n                    $('input#remove').prop('disabled', false);\r\n                    $('input#add').prop('disabled', true);\r\n                } else if (type === 'addselect') {\r\n                    $('input#remove').prop('disabled', true);\r\n                    $('input#add').prop('disabled', false);\r\n                }\r\n\r\n                if ($(this).hasClass('select_all')) {\r\n                    $('#' + type + ' option').prop('selected', true);\r\n                } else if ($(this).hasClass('remove_all')) {\r\n                    $('#' + type ).val('').trigger(\"change\");\r\n                }\r\n            });\r\n        },\r\n        curriculumStatus: function(args) {\r\n            return Str.get_strings([\r\n            {\r\n                key: 'confirmation',\r\n                component: 'local_program'\r\n            },\r\n            {\r\n                key: args.actionstatusmsg,\r\n                component: 'local_program'\r\n            },\r\n            {\r\n                key: 'Confirm'\r\n            }]).then(function(s) {\r\n                ModalFactory.create({\r\n                    title: s[0],\r\n                    type: ModalFactory.types.CONFIRM,\r\n                    body: s[1]\r\n                }).done(function(modal) {\r\n                    this.modal = modal;\r\n                    modal.setSaveButtonText(s[2]);\r\n                    modal.getRoot().on(ModalEvents.yes, function(e) {\r\n                        e.preventDefault();\r\n                        args.confirm = true;\r\n                        var promise = Ajax.call([{\r\n                            methodname: 'local_curriculum_' + args.action,\r\n                            args: args\r\n                        }]);\r\n                        promise[0].done(function(resp) {\r\n                            window.location.href = window.location.href;\r\n                        }).fail(function(ex) {\r\n                            // do something with the exception\r\n                             console.log(ex);\r\n                        });\r\n                    }.bind(this));\r\n                    modal.show();\r\n                }.bind(this));\r\n            }.bind(this));\r\n        },\r\n\tManagecurriculumStatus: function(args) {\r\n            return Str.get_strings([{\r\n                key: 'confirmation',\r\n                component: 'local_program'\r\n            },\r\n            {\r\n                key: args.actionstatusmsg,\r\n                component: 'local_program',\r\n                param: args.curriculumname,\r\n            },\r\n            {\r\n                key: 'deleteallconfirm',\r\n                component: 'local_program'\r\n            },\r\n            {\r\n                key: 'yes'\r\n            }]).then(function(s) {\r\n                ModalFactory.create({\r\n                    title: s[0],\r\n                    type: ModalFactory.types.CONFIRM,\r\n                    body: s[1]\r\n                }).done(function(modal) {\r\n                    this.modal = modal;\r\n                    modal.setSaveButtonText(s[3]);\r\n                    modal.getRoot().on(ModalEvents.yes, function(e) {\r\n                        e.preventDefault();\r\n                        args.confirm = true;\r\n                        var promise = Ajax.call([{\r\n                            methodname: 'local_program_managecurriculumStatus',\r\n                            args: args\r\n                        }]);\r\n                        promise[0].done(function(resp) {\r\n                            window.location.href = M.cfg.wwwroot + '/local/curriculum/view.php?ccid='+args.curriculumid;\r\n                        }).fail(function(ex) {\r\n                            // do something with the exception\r\n                             console.log(ex);\r\n                        });\r\n                    }.bind(this));\r\n                    modal.show();\r\n                }.bind(this));\r\n            }.bind(this));\r\n        },\r\n        load: function () {\r\n        },\r\n        unassignCourses: function(args){\r\n            return Str.get_strings([{\r\n                    key: 'confirm'\r\n                },\r\n                {\r\n                    key: 'unassign_courses_confirm',\r\n                    component: 'local_program',\r\n                    param : args\r\n                },\r\n                {\r\n                    key: 'unassign',\r\n                    component:'local_program',\r\n                },\r\n                {\r\n                    key: 'cannotunassign_courses_confirm',\r\n                    component:'local_program',\r\n                }]).then(function(s) {\r\n                    if (args.action == \"unassign_course\") {\r\n                        s[1] = s[1];\r\n                        var confirm = ModalFactory.types.CONFIRM;\r\n                    } else if (args.action == \"cannotunassign_course\") {\r\n                        s[1] = s[3];\r\n                        var confirm = ModalFactory.types.DEFAULT;\r\n                    } else {\r\n                         s[1] = s[1];\r\n                        var confirm = ModalFactory.types.CONFIRM;\r\n                    }\r\n                    ModalFactory.create({\r\n                        title: s[0],\r\n                        type: confirm,\r\n                        body: s[1]\r\n                    }).done(function(modal) {\r\n                        this.modal = modal;\r\n                        if (args.action != \"cannotunassign_course\") {\r\n                            modal.setSaveButtonText(s[2]);\r\n                        }\r\n                        modal.getRoot().on(ModalEvents.yes, function(e) {\r\n                            e.preventDefault();\r\n                            params = {};\r\n                            params.programid = args.programid;\r\n                            params.curriculumid = args.curriculumid;\r\n                            params.semesterid = args.semesterid;\r\n                            params.yearid = args.yearid;\r\n                            params.courseid = args.courseid;\r\n                            var promise = Ajax.call([{\r\n                                methodname: 'local_program_' + args.action,\r\n                                args: params\r\n                            }]);\r\n                            promise[0].done(function(resp) {\r\n                                window.location.href = window.location.href;\r\n                            }).fail(function(ex) {\r\n                                // do something with the exception\r\n                                console.log(ex);\r\n                            });\r\n                        }.bind(this));\r\n                        modal.show();\r\n                    }.bind(this));\r\n                modal.show();\r\n            }.bind(this));\r\n        },\r\n        ProgramsDatatable: function(args) {\r\n\r\n            params = [];\r\n            params.action = 'viewcurriculumprograms';\r\n            /*var columnval='all';\r\n            if(args.type==1){\r\n                columnval=0;\r\n            }*/\r\n            params.type = args.type;\r\n            params.options = args.options;\r\n            var rows_selected = [];\r\n            var table = $('#viewcurriculumprograms').DataTable({\r\n                \r\n                'processing': true,\r\n                'serverSide': true,\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\": params\r\n                },\r\n                \r\n                \"language\": {\r\n                    \"paginate\": {\r\n                        \"next\": \">\",\r\n                        \"previous\": \"<\"\r\n                    },\r\n                    'processing': '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>'\r\n                },\r\n                /*'columnDefs': [{\r\n                      'targets': [0],\r\n                      'searchable': false,\r\n                      'orderable': false,\r\n                      'width': '1%',\r\n                      'className': 'dt-body-center',\r\n                      'render': function (data, type, full, meta){\r\n                        if(args.type==1){\r\n                          return '<input type=\"checkbox\" class=\"programcheckbox\">';\r\n                        }\r\n                      }\r\n                   }],*/\r\n               'order': [[1, 'asc']],\r\n               'rowCallback': function(row, data, dataIndex){\r\n                  // Get row ID\r\n                  var rowId = data[0];\r\n\r\n                  // If row ID is in the list of selected row IDs\r\n                  if($.inArray(rowId, rows_selected) !== -1&&args.type==1){\r\n                     $(row).find('input[type=\"checkbox\"]').prop('checked', true);\r\n                     $(row).addClass('selected');\r\n                  }\r\n               },\r\n                \"pageLength\": 10\r\n            });\r\n            if(args.type==1){\r\n                // Handle click on checkbox\r\n                $('#viewcurriculumprograms tbody').on('click', '.programcheckbox', function(e){\r\n                   var $row = $(this).closest('tr');\r\n                    //console.log($row);\r\n                   // Get row data\r\n                   var data = table.row($row).data();\r\n                    //console.log(data);\r\n                   // Get row ID\r\n                   var rowId = data[0];\r\n\r\n                   // Determine whether row ID is in the list of selected row IDs\r\n                   var index = $.inArray(rowId, rows_selected);\r\n\r\n                   // If checkbox is checked and row ID is not in list of selected row IDs\r\n                   if(this.checked && index === -1){\r\n                      rows_selected.push(rowId);\r\n\r\n                   // Otherwise, if checkbox is not checked and row ID is in list of selected row IDs\r\n                   } else if (!this.checked && index !== -1){\r\n                      rows_selected.splice(index, 1);\r\n                   }\r\n\r\n                   if(this.checked){\r\n                      $row.addClass('selected');\r\n                   } else {\r\n                      $row.removeClass('selected');\r\n                   }\r\n\r\n                   // Update state of \"Select all\" control\r\n                    curriculum.updateDataTableSelectAllCtrl(table);\r\n\r\n                   // Prevent click event from propagating to parent\r\n                   e.stopPropagation();\r\n                });\r\n\r\n                // Handle click on table cells with checkboxes\r\n                $('#viewcurriculumprograms').on('click', 'tbody td .programcheckbox, thead th .programcheckboxhead', function(e){\r\n                   $(this).parent().find('input[type=\"checkbox\"]').trigger('click');\r\n                });\r\n\r\n                // Handle click on \"Select all\" control\r\n                $('thead input[name=\"select_all\"]', table.table().container()).on('click', function(e){\r\n                   if(this.checked){\r\n                      $('#viewcurriculumprograms tbody input[type=\"checkbox\"]:not(:checked)').trigger('click');\r\n                   } else {\r\n                      $('#viewcurriculumprograms tbody input[type=\"checkbox\"]:checked').trigger('click');\r\n                   }\r\n\r\n                   // Prevent click event from propagating to parent\r\n                   e.stopPropagation();\r\n                });\r\n\r\n                // Handle table draw event\r\n                table.on('draw', function(){\r\n                   // Update state of \"Select all\" control\r\n                    curriculum.updateDataTableSelectAllCtrl(table);\r\n                });\r\n                // Handle form submission event\r\n                /*$('#frm-viewcurriculumprograms').on('submit', function(e){\r\n                   var form = this;\r\n\r\n                   // Iterate over all selected checkboxes\r\n                   var check_rows=0;\r\n                   $.each(rows_selected, function(index, rowId){\r\n\r\n                    check_rows=rowId;\r\n                      // Create a hidden element\r\n                      $(form).append(\r\n                          $('<input>')\r\n                             .attr('type', 'hidden')\r\n                             .attr('name', 'id[]')\r\n                             .val(rowId)\r\n                      );\r\n                   });\r\n                   // FOR DEMONSTRATION ONLY\r\n\r\n                   // Output form data to a console\r\n                   $('#viewcurriculumprograms-console').text($(form).serialize());\r\n                   if (check_rows != 0) {\r\n                        $(\"#frm-viewcurriculumprograms\").load(M.cfg.wwwroot+\"/local/program/index.php?formdata=\"+ $(form).serialize()+\"\");\r\n                   }\r\n                   // Remove added elements\r\n                   $('input[name=\"id\\[\\]\"]', form).remove();\r\n\r\n                   // Prevent actual form submission\r\n                   e.preventDefault();\r\n                });*/\r\n            }\r\n        },\r\n        updateDataTableSelectAllCtrl:function(table){\r\n                var $table             = table.table().node();\r\n                var $chkbox_all        = $('tbody input[type=\"checkbox\"]', $table);\r\n                var $chkbox_checked    = $('tbody input[type=\"checkbox\"]:checked', $table);\r\n                var chkbox_select_all  = $('thead input[name=\"select_all\"]', $table).get(0);\r\n\r\n                // If none of the checkboxes are checked\r\n                if($chkbox_checked.length === 0){\r\n                   chkbox_select_all.checked = false;\r\n                   if('indeterminate' in chkbox_select_all){\r\n                      chkbox_select_all.indeterminate = false;\r\n                   }\r\n\r\n                // If all of the checkboxes are checked\r\n                } else if ($chkbox_checked.length === $chkbox_all.length){\r\n                   chkbox_select_all.checked = true;\r\n                   if('indeterminate' in chkbox_select_all){\r\n                      chkbox_select_all.indeterminate = false;\r\n                   }\r\n\r\n                // If some of the checkboxes are checked\r\n                } else {\r\n                   chkbox_select_all.checked = true;\r\n                   if('indeterminate' in chkbox_select_all){\r\n                      chkbox_select_all.indeterminate = true;\r\n                   }\r\n                }\r\n        },\r\n        FacultysDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'viewcoursefaculty';\r\n            params.yearid = $('#viewcoursefaculty').data('yearid');\r\n            params.semesterid = $('#viewcoursefaculty').data('semesterid');\r\n            params.courseid = $('#viewcoursefaculty').data('courseid');\r\n            var oTable = $('#viewcoursefaculty').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/curriculum/ajax.php',\r\n                    \"data\":params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 5,\r\n                \"bLengthChange\": false,\r\n                \"bInfo\" : false,\r\n            });\r\n        },\r\n        masterprogramchildpopup : function(args) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url:   M.cfg.wwwroot + '/local/program/ajax.php',\r\n                data: { curriculumid: args.id, action:'masterprogramchildpopup',\r\n                    sesskey: M.cfg.sesskey\r\n                },\r\n                success: function(returndata) {\r\n                    //Var returned_data is ONLY available inside this fn!\r\n                    ModalFactory.create({\r\n                        title: args.title,\r\n                        body: returndata\r\n                      }).done(function(modal) {\r\n                        // Do what you want with your new modal.\r\n\r\n                        modal.show();\r\n                        curriculum.chlidprogramsDatatable(args);\r\n                         modal.setLarge();\r\n                         modal.getRoot().addClass('openLMStransition');\r\n                            modal.getRoot().animate({\"right\":\"0%\"}, 500);\r\n                            modal.getRoot().on(ModalEvents.hidden, function() {\r\n                            // modal.getRoot().animate({\"right\":\"-85%\"}, 500);\r\n                                    // setTimeout(function(){\r\n                                    modal.destroy();\r\n                                // }, 1000);\r\n                            }.bind(this));\r\n                            $(\".close\").click(function(){\r\n                                modal.hide();\r\n                                modal.destroy();\r\n                            });\r\n                         //return modal;\r\n                      });\r\n                }\r\n            });\r\n        },\r\n        chlidprogramsDatatable: function(args) {\r\n            params = [];\r\n            params.action = 'masterprogramchildpopup';\r\n            params.curriculumid = args.id;\r\n            params.stable = 0;\r\n            var oTable = $('#chlidprograms').dataTable({\r\n                'processing': true,\r\n                'serverSide': true,\r\n                \"language\": {\r\n                    \"paginate\": {\r\n                    \"next\": \">\",\r\n                    \"previous\": \"<\"\r\n                    },\r\n                    \"processing\": '<img src='+M.cfg.wwwroot + '/local/ajax-loader.svg>',\r\n                    \"search\": \"\",\r\n                    \"searchPlaceholder\": \"Search\"\r\n                },\r\n                'ajax': {\r\n                    \"type\": \"POST\",\r\n                    \"url\": M.cfg.wwwroot + '/local/program/ajax.php',\r\n                    \"data\":params\r\n                },\r\n                \"responsive\": true,\r\n                \"pageLength\": 5,\r\n                \"bLengthChange\": false,\r\n                \"bInfo\" : false,\r\n            });\r\n        },\r\n\r\n        checkProgramStatus : function(args) {\r\n            $.ajax({\r\n                type: \"POST\",\r\n                url:   M.cfg.wwwroot + '/local/program/ajax.php',\r\n                data: { programid: args.pid, curriculumid: args.ccid, costcenter: args.costcenter, action:'programstatusvalidation',\r\n                    sesskey: M.cfg.sesskey\r\n                },\r\n                success: function(returndata) {\r\n                    //Var returned_data is ONLY available inside this fn!\r\n                    if(returndata.finalstatus == 'true'){\r\n                        ModalFactory.create({\r\n                        title: \"Confirm\",\r\n                        type: ModalFactory.types.SAVE_CANCEL,\r\n                        body: Str.get_string('publishprogramconfirmationmessage', 'local_program', args.programname),\r\n                        }).done(function(modal) {\r\n                        this.modal = modal;\r\n                        modal.setSaveButtonText('Confirm');\r\n                        modal.getRoot().on(ModalEvents.yes, function(e) {\r\n                            modal.hide();\r\n                            modal.destroy();\r\n                            e.preventDefault();\r\n                            args.confirm = true;\r\n                            $.ajax({\r\n                            type: \"POST\",\r\n                            url:   M.cfg.wwwroot + '/local/program/ajax.php',\r\n                            data: { programid: args.pid, curriculumid: args.ccid, costcenter: args.costcenter, action:'publishprogram',\r\n                                sesskey: M.cfg.sesskey\r\n                            },\r\n                            success: function(response){\r\n                                ModalFactory.create({\r\n                                // type: ModalFactory.types.SAVE,\r\n                                title: 'Success!',\r\n                                body: response\r\n                                }).done(function(modal) {\r\n                                    modal.show();\r\n                                    modal.getRoot().on(ModalEvents.hidden, function() {\r\n                                    // modal.getRoot().animate({\"right\":\"-85%\"}, 500);\r\n                                             setTimeout(function(){\r\n                                            modal.destroy();\r\n                                         }, 4000);\r\n                                    }.bind(this));\r\n                                    $(\".close\").click(function(){\r\n                                        modal.hide();\r\n                                        modal.destroy();\r\n                                    });\r\n                                document.location.reload();\r\n                                /*$(\"#affiliateprograms_icon\"+args.pid+\"\").show();\r\n                                $(\"#programpublish_icon\"+args.pid+\"\").hide();*/\r\n                                // Do what you want with your new modal.\r\n                              });\r\n                            }\r\n                            });\r\n                            /*var params = {};\r\n                            params.id = args.id;\r\n                            params.contextid = args.contextid;\r\n                            var promise = Ajax.call([{\r\n                                methodname: 'local_faculties_delete_faculty',\r\n                                args: params\r\n                            }]);\r\n                            promise[0].done(function(resp) {\r\n                                window.location.href = window.location.href;\r\n                            }).fail(function(ex) {\r\n                                // do something with the exception\r\n                                 console.log(ex);\r\n                            });*/\r\n                        }.bind(this));\r\n                    modal.show();\r\n                    }.bind(this));\r\n                    }else{\r\n                    ModalFactory.create({\r\n                        // title: args.title,\r\n                        \r\n                        type: ModalFactory.types.CANCEL,\r\n                        title: 'Alert!',\r\n                        body: returndata.message\r\n                      }).done(function(modal) {\r\n                        // Do what you want with your new modal.\r\n\r\n                            modal.show();\r\n                            modal.getRoot().on(ModalEvents.hidden, function() {\r\n                            // modal.getRoot().animate({\"right\":\"-85%\"}, 500);\r\n                                    // setTimeout(function(){\r\n                                    modal.destroy();\r\n                                // }, 1000);\r\n                            }.bind(this));\r\n                            $(\".close\").click(function(){\r\n                                modal.hide();\r\n                                modal.destroy();\r\n                            });\r\n                         //return modal;\r\n                      });\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n    };\r\n});\r\n"],"file":"program.min.js"}